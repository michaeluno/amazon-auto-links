/* Locale Select 1.0.0 */
(function($){$(document).ready(function(){if(!_canLoad()){return;}
_debugLog('loaded...',aalLocaleSelect);$('select[name=unit_default\\[country\\]]').change(function(event){_debugLog('locale selected',aalLocaleSelect);$.ajax({type:"post",dataType:'json',async:true,cache:true,url:aalLocaleSelect.ajaxURL,data:{action:aalLocaleSelect.actionHookSuffix,aal_nonce:aalLocaleSelect.nonce,locale:$(this).val(),},spinnerImage:$('<img class="aal-spinner" src="'+aalLocaleSelect.spinnerURL+'" />'),beforeSend:function(){this.spinnerImage.css({'vertical-align':'middle','display':'inline-block','height':'auto','margin-left':'0.5em'});$('select[name=unit_default\\[language\\]], select[name=unit_default\\[preferred_currency\\]]').closest('.amazon-auto-links-fieldrow').find('.amazon-auto-links-field-title').append(this.spinnerImage);},success:function(response){_debugLog(response);if(response.success){$('select[name=unit_default\\[language\\]]').html(response.result.language);$('select[name=unit_default\\[preferred_currency\\]]').html(response.result.currency);}else{_debugLog('Ajax response error',response);}},error:function(response){_debugLog('Ajax response error',response);},complete:function(){$('.aal-spinner').remove();_debugLog('The Language and Currency fields are updated.');}});});});function _debugLog(...args){if(!aalLocaleSelect.debugMode){return;}
console.log(aalLocaleSelect.pluginName,aalLocaleSelect.scriptName,...args);}
function _canLoad(){if('undefined'===typeof aalLocaleSelect){console.log('Amazon Auto Links:','the locale selection script is not loaded.');return false;}
return true;}}(jQuery));;