/* WP Embed Template Lite 1.2.0 */
(function(window,document){'use strict';var supportedBrowser=(document.querySelector&&window.addEventListener),loaded=false,secret,secretTimeout,resizing;function sendEmbedMessage(message,value){var _window=window;while(isWithinIframe(_window)){var _className=_window.frameElement.getAttribute('class');if(!hasSubstring(_className,['aal-embed','components-sandbox'])){continue;}
_window.parent.postMessage({message:message,value:value,secret:secret},'*');_window=_window.parent;}}
function isWithinIframe(_window){return _window.frameElement&&'IFRAME'===_window.frameElement.nodeName;}
function hasSubstring(string,substrings){return substrings.some(function(v){return string.indexOf(v)>=0;});}
function onLoad(){if(loaded){return;}
loaded=true;var thumbnail=document.querySelector('.amazon-auto-links img'),images=document.querySelector('.sub-images img');if(window.self===window.top){return;}
sendEmbedMessage('height',Math.ceil(document.body.getBoundingClientRect().height));if(thumbnail){thumbnail.addEventListener('load',function(){sendEmbedMessage('height',Math.ceil(document.body.getBoundingClientRect().height));});}
if(images){images.addEventListener('load',function(){sendEmbedMessage('height',Math.ceil(document.body.getBoundingClientRect().height));});}}
function onResize(){if(window.self===window.top){return;}
clearTimeout(resizing);resizing=setTimeout(function(){sendEmbedMessage('height',Math.ceil(document.body.getBoundingClientRect().height));},100);}
function getSecret(){if(window.self===window.top||!!secret){return;}
secret=window.location.hash.replace(/.*secret=([\d\w]{10}).*/,'$1');clearTimeout(secretTimeout);secretTimeout=setTimeout(function(){getSecret();},100);}
if(supportedBrowser){getSecret();document.documentElement.className=document.documentElement.className.replace(/\bno-js\b/,'')+' js';document.documentElement.className=document.documentElement.className.replace(/\bno-js\b/,'')+' js';document.addEventListener('DOMContentLoaded',onLoad,false);window.addEventListener('load',onLoad,false);window.addEventListener('resize',onResize,false);}})(window,document);;