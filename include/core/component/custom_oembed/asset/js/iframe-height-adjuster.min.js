/* iframe Height Adjuster 1.2.0 */
(function(window,document){'use strict';var supportedBrowser=false;if(document.querySelector){if(window.addEventListener){supportedBrowser=true;}}
window.aalEmbed=window.aalEmbed||{};if(!!window.aalEmbed.OverwriteIframeHeightLimit){return;}
window.aalEmbed.OverwriteIframeHeightLimit=function(e){var data=e.data;if(!(data.secret||data.message||data.value)){return;}
if(/[^a-zA-Z0-9]/.test(data.secret)){return;}
var iframes=document.querySelectorAll('iframe[data-secret="'+data.secret+'"]'),i,source;for(i=0;i<iframes.length;i++){source=iframes[i];if(e.source!==source.contentWindow){continue;}
if('height'!==data.message){continue;}
var _iHeight=parseInt(data.value,10);var _attrID=source.getAttribute('id');_attrID=_attrID?_attrID:'iframe-'+source.getAttribute('data-secret')+'-'+i;var _eventAdjustIFrameHeight=new CustomEvent('receivedIframeMessage',{'detail':{'number':i,'height':_iHeight,'id':_attrID,'source':source,'data':data,}});window.dispatchEvent(_eventAdjustIFrameHeight);}};if(supportedBrowser){window.addEventListener('message',window.aalEmbed.OverwriteIframeHeightLimit,false);window.addEventListener('receivedIframeMessage',debounceCallbackForEvent(adjustFrameHeight));}else{console.log('Wordpress <iframe> limit is still present because the browser is not supported.');console.log('For more information : https://medium.com/@wlarch/overwrite-and-bypass-wordpress-iframe-height-dimension-limit-using-javascript-9d5035c89e37');}
function adjustFrameHeight(event){var _attrID=event.detail.id;var _iHeight=event.detail.height;event.detail.source.setAttribute('id',_attrID);event.detail.source.setAttribute('height',_iHeight.toString());var _secret=event.detail.secret;var _css='#'+_attrID+' { height: '+_iHeight+'px; } ';var _styleElem=document.getElementById('aalEmbed-style-'+_secret);if(_styleElem){_styleElem.innerHTML=_css;return;}
var head=document.head||document.getElementsByTagName('head')[0],style=document.createElement('style');style.type='text/css';style.id='aalEmbed-style-'+_secret+'-'+event.detail.number;style.appendChild(document.createTextNode(_css));head.appendChild(style);}
function debounceCallbackForEvent(func,timeout){var timeout=timeout||200;var _timeoutIDs={};var _heightsByIDs={};return function(){var scope=this,args=arguments;var _event=arguments[0];if(_event.detail.height===_heightsByIDs[_event.detail.number]){return;}
clearTimeout(_timeoutIDs[_event.detail.number]);_heightsByIDs[_event.detail.number]=_event.detail.height;_timeoutIDs[_event.detail.number]=setTimeout(function(){func.apply(scope,Array.prototype.slice.call(args));},timeout);}}})(window,document);;